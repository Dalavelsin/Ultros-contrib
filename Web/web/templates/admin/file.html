## -*- coding: utf-8 -*-

<%inherit file="../base.html"/>
        <div class="ui green fluid segment">
            <div class="ui breadcrumb">
                <a class="section" href="/">Home</a>
                <div class="divider"> / </div>
                <a class="section" href="/admin">Admin</a>
                <div class="divider"> / </div>
                <a class="section" href="/admin/files">Files</a>
                <div class="divider"> / </div>
                <a class="active section">${filename}</a>
            </div>
        </div>

        % if error:

        <div class="ui error message">
            <div class="header">
                Error
            </div>
            ${error}
        </div>

        % endif

        % if success:

        <div class="ui success message">
            File saved successfully.
        </div>

        % endif

        <form method="post" class="ui form" action="/admin/file/${filetype}/${filename}">
            <textarea id="input" name="input" class="ui attached fluid segment">${content}</textarea>

            <button type="submit" class="positive ui button">Submit</button>
        </form>

        <!-- Editor Javascript -->
        <script>
            var myCodeMirror = CodeMirror.fromTextArea(
                document.getElementById("input"), {
                    mode: "${mode}",
                    theme: "eclipse",
                    indentUnit: 4,
                    lineNumbers: true
                }
            );

            $(".CodeMirror").first().addClass("ui fluid segment");
        </script>

<%block name="title">Ultros | File: ${_title}</%block>
<%block name="header">
% for item in headers:
    ${item}
% endfor
</%block>